<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User List</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <br>
    <h1>List of users</h1>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Username</th>
          <th>Email</th>
          <th>Address</th>
          <th>Phone</th>
          <th>Website</th>
          <th>Company</th>
        </tr>
      </thead>
      <tbody id="data">

      </tbody>
    </table>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    // Membuat fungsi untuk mengambil daftar pengguna menggunakan Promise
    // fetch('https://jsonplaceholder.typicode.com/users')
    //   .then(res => res.json())
    //   .then(res => {
    //     document.getElementById('data').innerHTML = render(res)
    //   });
    // const table = document.getElementById('data');
    // table.innerHTML = message('loading...');
    // const data = fetch('https://jsonplaceholder.typicode.com/users');
    // data
    //   .then(function (res) { return res.json() })
    //   .then(res => {
    //     table.innerHTML = render(res)
    //   })
    //   .catch(err => {
    //     table.innerHTML = message(err.message)
    //   })
    //   .finally(() => {

    //   });


    axios.get('https://jsonplaceholder.typicode.com/users').then(res => {
      document.getElementById('data').innerHTML = render(res.data);
    })

    function render(result) {
      let table = '';
      result.forEach(data => {
        table += `<tr>
                <td>${data.id}</td>
                <td>${data.name}</td>
                <td>${data.username}</td>
                <td>${data.email}</td>
                <td>
                  ${data.address.street},
                  ${data.address.suite},
                  ${data.address.city}
                 </td>
                <td>${data.phone}</td>
                <td>${data.website}</td>
                <td>${data.company.name}</td>
              </tr>`;
      })
      return table;
    }

    function message(msg) {
      return `<tr>
            <td class="text-center" colspan="8">${msg}</td>
        </tr>`;
    }
  </script>
</body>

</html>